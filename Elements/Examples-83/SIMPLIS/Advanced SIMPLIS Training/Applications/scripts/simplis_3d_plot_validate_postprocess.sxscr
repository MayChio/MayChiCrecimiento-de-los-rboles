***
*** simplis_3d_plot_validate.sxscr
***

*** Author: Chris Bridge, SIMPLIS Technologies
*** Customer: Intel
***
*** Unsupported user post-process script which validates the user is executing a 64 bit version.
***

Arguments @retval label report_dir log_file controlhandle 

*** get version information
Let vi = VersionInfo()

*** get architechture
Let version = vi[7]

*** initialize returns
Let user_specs = '' 
Let test = 0

*** check
if version != 'x64' || test then

	*** unset the global running DVM flag.
	Let global:SimplisDVMSyncBuckSimulationRunning = 0

	*** spec message will appear in report
	Let user_specs = SimplisDVMAdvancedUtilCreateSpec( 'x64_hardware_check' , 'FAIL',  'This installation of SIMetrix/SIMPLIS is a 32 bit version. This will likely fail when running the 3D testplan because a 32 bit application cannot address enough memory for the graphing stage of the testplan. Please use the 64 bit version of SIMetrix/SIMPLIS. The rest of the tests have been changed to NoSimulation.' , user_specs )

endif

*** return on spec on second index.
Let retval = [ '', user_specs ]
